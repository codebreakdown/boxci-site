<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>BoxCI: Documentation</title>
    <link href="/images/favicon.ico" rel="icon" type="image/x-icon" />
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
    <link href="/stylesheets/application.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/rouge.css" media="screen" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <nav class="navbar navbar-default nav-bar-static-top" role="navigation" style="margin-bottom: 0px;">
  <div class="container">
    <ul class="nav navbar-nav navbar-right">
      <li><a href="/blog">Blog</a></li>
      <li><a href="/">Documentation</a></li>
    </ul>
    <a class="navbar-brand" href="/">
      <img src="/images/boxci-logo-sm.png" style="height: 40px; margin-top: -10px;" alt="boxci logo">
    </a>
  </div>
</nav>


    <div id="main" role="main" class="docs">
      <div class="container">
        <div class="row">
          <div class="col-sm-8" id="documentation_body">
            <h1 id="getting-started">Getting started</h1>

<h2 id="boxci-overview">BoxCI Overview</h2>

<p>BoxCI is a command line tool that aims to ease the process of standardizing
virtual development &amp; continuous integration environments and the workflows
that surround them. It can be thought of as having the following components:</p>

<ul>
<li><strong>Configuration Management</strong> - provides a structure/framework around
defining and managing the configuration of its development &amp; continuous
integration environments. It uses <a href="http://puppetlabs.com/">Puppet</a> well
known configuration management tool to aid in this task.</li>
<li><strong>Virtual Machine Management</strong> - defines an interface for managing your
BoxCI development and continuous integration nodes in the cloude. It uses
<a href="http://vagrantup.com">Vagrant</a>, a well know virtual machine management
tool, behind the scenes to handle most of this functionality.</li>
<li><strong>Continous Integration Build Support</strong> - includes a framework for defining your
the continuous integration build process that should be used when you want
to run your test suite in a cloud node. This can be extremely useful if you
want to offload the work of a build onto a cloud node instead of your local
dev laptop, or if your organization has an internal cloud and restrictions
on exposing code to public services.</li>
</ul>

<p>BoxCI allows you to completely customize &amp; standardize your development &amp;
continuos integration environment. This extremely useful for bootstrapping new
developers to a project because they don&rsquo;t have to worry about getting all the
external dependencies and initial setup working on their machine. Instead they
can just use BoxCI to spin up the development environment &amp; to run the
projects automated test suite in the cloud.</p>

<p>You can easily get going with BoxCI by following the steps below.</p>

<h2 id="step-one:-installation">Step One: Installation</h2>

<p>The first step is to install BoxCI so that you can use it. This can easily be
done with the following:</p>
<pre class="highlight shell"><span class="c"># Vagrant &amp; VirtualBox must also be installed for BoxCI to function properly.</span>
gem install boxci
</pre>
<h2 id="step-two:-initialize-project">Step Two: Initialize Project</h2>

<p>The second step to getting setup with BoxCI is to initialize your chosen
project as a BoxCI project. An example of initializing a Ruby project can be
seen below.</p>
<pre class="highlight shell"><span class="c"># in the root of the project</span>
boxci init ruby
</pre>
<p>The above command will initialize the project as a BoxCI project for the
specified supported language by creating a starter <code>.boxci.yml</code> file at the
root of the project. It will also generate default user configs in <code>~/.boxci</code>
for the user running it.</p>

<p>Further details on <code>boxci init</code> can be found in the <a href="/references/command_line_interface#boxci-init">Command Line
Interface</a> Reference.</p>

<h2 id="step-three:-inspect-&amp;-update-.boxci.yml">Step Three: Inspect &amp; Update <code>.boxci.yml</code></h2>

<p>The above command will have generated a <code>.boxci.yml</code> in the root of the
project with content roughly as follows: </p>
<pre class="highlight yaml"><span class="s">language</span><span class="pi">:</span> <span class="s">ruby</span>
<span class="s">rbenv</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">2.1.0"</span>
<span class="c1"># uncomment this line if your project needs to run something other than `rake`:</span>
<span class="c1"># script: bundle exec rspec spec</span>
</pre>
<p>The <code>.boxci.yml</code> is the project configuration file. It defines aspects of the
<a href="/references/build_configuration">Build Configuration</a> and the <a href="/references/ci_environment">The CI
Environment</a> and should be managed by your
source control mechanism.</p>

<p>If we look at the default we can see it specifies the <code>language: ruby</code> based
on the supported language we specified in <code>boxci init ruby</code> and that it
specifies a list of ruby versions to test against.</p>
<pre class="highlight yaml"><span class="s">rbenv</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">2.1.0"</span>
</pre>
<p>Beyond that there is a comment that it assumes your project has a <code>Rakefile</code>
with a default rake task that will run your automated test suite. If you don&rsquo;t
and want to customize it you can do so by doing as the comment says and
uncommenting and modifying the <code># script: bundle exec rspec spec</code> line.</p>

<p>Once edited your <code>.boxci.yml</code> might look something like the following:</p>
<pre class="highlight yaml"><span class="s">language</span><span class="pi">:</span> <span class="s">ruby</span>
<span class="s">rbenv</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">2.1.0"</span>
<span class="s">script</span><span class="pi">:</span> <span class="s">bundle exec rspec spec</span>
</pre>
<p>Further details on the various configuration options for the <code>.boxci.yml</code> can
be found in the <a href="/references/build_configuration">Build Configuration</a> and
<a href="/references/ci_environment">The CI Environment</a> references.</p>

<h2 id="step-four:-build-initial-environment">Step Four: Build Initial Environment</h2>

<p>The fourth step is actually building your initial BoxCI environment. This is
as easy as running:</p>
<pre class="highlight shell">boxci build
</pre>
<p>The above command will output something similar to the following:</p>
<pre class="highlight plaintext">      create  Vagrantfile
      create  puppet
      create  puppet/manifests
      create  puppet/modules
         run  git submodule add -f git@github.com:alup/puppet-rbenv.git puppet/modules/rbenv from "."
Reactivating local git directory for submodule 'puppet/modules/rbenv'.
         run  git submodule update --init from "."
      create  puppet/manifests/main.pp
</pre>
<p>From the output we can see that this is doing a few different things.</p>

<ol>
<li>Creating a starter Vagrantfile for the project</li>
<li>Creating a directory structure to maintain puppet manifiests
(<code>puppet/manifests</code>) &amp; modules (<code>puppet/modules</code>)</li>
<li>Generating a starting puppet manifest (<code>puppet/manifests/main.pp</code>) and
adding any necessary puppet modules</li>
</ol>

<p>For Ruby projects by default it defines the configuration for an environment
that provides the versions of ruby specified in the <code>.boxci.yml</code>.  Further
details on <code>boxci build</code> can be found in the <a href="/references/command_line_interface#boxci-build">Command Line
Interface</a> Reference.</p>

<h2 id="step-five:-iterate-on-the-environment">Step Five: Iterate on the Environment</h2>

<p>Next you should iterate on your <a href="http://puppetlabs.com">Puppet</a> manifests.
<em>Note:</em> This may not be needed if you project is simple, like lets say a Ruby
gem, as the default generated manifest may be sufficient.</p>

<p>If the project is more complex and you need to have a more complicated
environment. The basic steps to iterate on your environment configuration are
as follows:</p>

<ol>
<li>Spin up your local virtual development environment using <code>vagrant up</code> from
the root of the project. This will spin up the virtual dev environment and
provision the configuration of it using Puppet.</li>
<li>Once it has spun up successfully and applied the provisioning you can
<code>vagrant ssh</code> to the machine to verify that the changes were made
correctly. Simply exit the <code>ssh</code> session once you have verified.</li>
<li>Then you can make changes to the Puppet manifests
<code>puppet/manifests/main.pp</code> in your repository and apply them by running
<code>vagrant provision</code>. For details on Puppet and writing manifests please
refer to <a href="http://puppetlabs.com">puppetlabs.com</a>.</li>
<li>Generally you would repeat steps 2 and 3 until you get things to the state
that you are happy with and then you can halt the virtual machine with
<code>vagrant halt</code> or destroy it with <code>vagrant destroy</code>.</li>
<li>Generally it is thought of as good practice to <code>vagrant destroy</code> your box
once you think you have the environment all dialed in and then do a fresh
<code>vagrant up</code> as it will help you identify any Puppet dependency issues that
may exist in your manifest.</li>
</ol>

<h2 id="step-six:-run-your-test-suite">Step Six: Run your test suite</h2>

<p>Once you have your Puppet manifests all dialed in and your <code>.boxci.yml</code>
configured the way you want. You should be ready to have BoxCI spin up a
virtual machine for you, provision it with your Puppet manifiests, and run
your automated test suite for you. This can be done with the following:</p>
<pre class="highlight shell">boxci <span class="nb">test</span> -v
</pre>
<p><em>Note:</em> The <code>-v</code> option enables verbose output which we are having you run so
that you can get a better idea of what is going on. Further details on <code>boxci
test</code> can be found in the <a href="/references/command_line_interface#boxci-test">Command Line
Interface</a> Reference.</p>

<h2 id="step-seven:-we-are-here-to-help!">Step Seven: We are here to help!</h2>

<p>For any kind of questions feel free to join our IRC channel <a href="irc://chat.freenode.net/%23boxci">#boxci on
chat.freenode.net</a>. We love helping more
people use BoxCI as well as getting feedback from people on BoxCI.</p>

<p>You can also find more information and get help by using <code>boxci help</code>. For
more details on <code>boxci help</code> please refer to the <a href="/references/command_line_interface#boxci-help">Command Line
Interface</a>
reference.</p>

          </div>

          <aside class="col-sm-3 col-sm-offset-1">
            <div class="side-module">
              <h2>Guides</h2>
              <ul>
                <li><a href="/guides/getting_started">Getting Started</a></li>
                <!-- <li><a href="#">Validate your .boxci.yml</a></li> -->
                <!-- <li><a href="#">Headless Testing with Browsers</a></li> -->
              </ul>
            </div>

            <div class="side-module">
              <h2>References</h2>
              <ul>
                <li><a href="/references/build_configuration">Build configuration</a></li>
                <li><a href="/references/ci_environment">The CI Environment</a></li>
                <li><a href="/references/command_line_interface">Command Line Interface</a></li>
                <!-- <li><a href="#">Common Build Problems</a></li> -->
              </ul>
            </div>

            <div class="side-module">
              <h2>Language-Specific Guides</h2>
              <ul>
                <li><a href="/language_guides/ruby">Ruby</a></li>
              </ul>
            </div>

            <div class="side-module">
              <h2>Developer Guides</h2>
              <ul>
                <!-- <li><a href="#">How it Works</a></li> -->
                <li><a href="http://github.com/reachlocal/boxci/blob/master/DEVELOPMENT.md">Contribiting Code</a></li>
              </ul>
            </div>

            <div class="side-module">
              <h2>Contact</h2>
              <ul>
                <li><a href="irc://chat.freenode.net/%23boxci">IRC</a></li>
                <li><a href="http://groups.google.com/forum/#!forum/boxci">Mailing list</a></li>
                <li><a href="/blog/feed.xml">Blog Feed</a></li>
              </ul>
            </div>

            <div class="side-module">
              <h2>Contributing</h2>
              <p class="item">This documentation site is open source. Feel free to <a href="http://github.com/reachlocal/boxci-site/issues">file issues about it</a>. The README in our <a href="http://github.com/reachlocal/boxci-site">Git repository</a> explains how to contribute.</p>
            </div>
          </aside>
        </div>
      </div>
    </div>
    
    <footer>
  <div class="container">
    <div class="row">
      <div class="col-xs-4">
        <div class="copyright_and_logo">
          <a href="http://reachlocal.com" style="display: block; float: left;">
            <img src="/images/reachlocal_logo.png" style="height: 50px;" alt="ReachLocal Inc. Logo">
          </a>
          <div style="float: left; margin-left: 20px; margin-top: 17px;">
            &copy; ReachLocal Inc.
          </div>
          <div style="clear: both;"></div>
        </div>
      </div>

      <div style="margin-top: 17px;">
        <div class="col-xs-4">
        </div>

        <div class="col-xs-1">
          <ul>
            <li><a href="irc://chat.freenode.net/%23boxci">IRC</a></li>
          </ul>
        </div>
        <div class="col-xs-1">
          <ul>
            <li><a href="http://github.com/reachlocal/boxci">GitHub</a></li>
          </ul>
        </div>
        <div class="col-xs-1">
          <ul>
            <li><a href="http://github.com/reachlocal/boxci/issues">Issues</a></li>
          </ul>
        </div>
        <div class="col-xs-1">
          <ul>
            <li><a href="/feed.xml">Blog Feed</a></li>
          </ul>
        </div>

      </div>
    </div>
  </div>
</footer>

    <script src="/javascripts/application.js" type="text/javascript"></script>
  </body>
</html>
